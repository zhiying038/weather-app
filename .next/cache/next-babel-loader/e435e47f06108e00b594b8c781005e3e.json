{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yoh Zhi Ying\\\\Desktop\\\\weather\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport WeatherInfo from \"../components/WeatherInfo\";\nimport \"../styles/styles.scss\";\nimport { Container, Row, Col } from \"react-grid-system\";\nexport default class Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.apikey = \"b71deb2566d82e77a5e670d0d3771d2a\";\n    this.apiurl = \"http://api.openweathermap.org/data/2.5\";\n    this.state = {\n      activeCity: \"Kuala Lumpur\",\n      data: null\n    };\n    this.APIRequest = this.APIRequest.bind(this);\n    this.retrieveData = this.retrieveData.bind(this);\n  }\n\n  async componentDidMount() {\n    await this.APIRequest(this.state.activeCity);\n  }\n\n  async APIRequest(cityName) {\n    const forecastUrl = `${this.apiurl}/forecast?q=${cityName}&units=metric&appid=${this.apikey}`;\n    await axios.get(forecastUrl).then(res => {\n      this.retrieveData(res.data.list);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  formatDate(dateTxt) {\n    let date = dateTxt.split(\" \")[0].split(\"-\");\n    return `${date[2]}/${date[1]}/${date[0]}`;\n  }\n\n  formatTime(dateTxt) {\n    return parseInt(dateTxt.split(\" \")[1].split(\":\")[0]);\n  }\n\n  retrieveData(data) {\n    let date = new Date();\n    let hours = date.getHours();\n    let timeslot = \"\";\n\n    if (hours >= 0 && hours < 3) {\n      timeslot = \"00:00:00\";\n    } else if (hours >= 3 && hours < 6) {\n      timeslot = \"03:00:00\";\n    } else if (hours >= 6 && hours < 9) {\n      timeslot = \"06:00:00\";\n    } else if (hours >= 9 && hours < 12) {\n      timeslot = \"09:00:00\";\n    } else if (hours >= 12 && hours < 15) {\n      timeslot = \"12:00:00\";\n    } else if (hours >= 15 && hours < 18) {\n      timeslot = \"15:00:00\";\n    } else if (hours >= 18 && hours < 21) {\n      timeslot = \"18:00:00\";\n    } else if (hours >= 21) {\n      timeslot = \"21:00:00\";\n    }\n\n    let json = data.filter(c => {\n      let time = c.dt_txt.split(\" \")[1];\n\n      if (time === timeslot) {\n        return c;\n      }\n    });\n    this.setState({\n      data: json\n    });\n  }\n\n  getWeatherIcon(description, time) {\n    let icon = \"\";\n\n    if (description.includes(\"clear sky\") && time >= 6 && time <= 18) {\n      icon = \"day\";\n    } else if (description.includes(\"clouds\") && time >= 6 && time <= 18) {\n      icon = \"cloudyday\";\n    } else if (description.includes(\"clear sky\") && (time >= 0 && time <= 6 || time >= 21)) {\n      icon = \"moon\";\n    } else if (description.includes(\"clouds\") && ((time = 0 && time <= 6) || time >= 21)) {\n      icon = \"cloudymoon\";\n    } else if (description.includes(\"rain\")) {\n      icon = \"rain\";\n    }\n\n    return icon;\n  }\n\n  render() {\n    let cards = \"\";\n    let id = 1;\n\n    if (this.state.data) {\n      cards = this.state.data.map(c => {\n        return __jsx(WeatherInfo, {\n          key: id++,\n          time: this.formatTime(c.dt_txt),\n          date: this.formatDate(c.dt_txt),\n          maxTemp: c.main.temp_max,\n          minTemp: c.main.temp_min,\n          humidity: c.main.humidity,\n          description: c.weather[0].description,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        });\n      });\n    }\n\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Weather Application\")), __jsx(\"h2\", {\n      className: \"has-text-centered is-size-2 has-text-black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Weather Forecast\"), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), __jsx(\"h3\", {\n      className: \"has-text-centered is-size-3 has-text-black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.activeCity), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), __jsx(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, __jsx(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, __jsx(Col, {\n      lg: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, __jsx(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, cards)))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Yoh Zhi Ying/Desktop/weather/pages/index.js"],"names":["React","axios","Head","WeatherInfo","Container","Row","Col","Index","Component","constructor","props","apikey","apiurl","state","activeCity","data","APIRequest","bind","retrieveData","componentDidMount","cityName","forecastUrl","get","then","res","list","catch","error","console","log","formatDate","dateTxt","date","split","formatTime","parseInt","Date","hours","getHours","timeslot","json","filter","c","time","dt_txt","setState","getWeatherIcon","description","icon","includes","render","cards","id","map","main","temp_max","temp_min","humidity","weather"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Head from \"next/head\";\r\nimport WeatherInfo from \"../components/WeatherInfo\";\r\nimport \"../styles/styles.scss\";\r\nimport { Container, Row, Col } from \"react-grid-system\";\r\n\r\nexport default class Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.apikey = \"b71deb2566d82e77a5e670d0d3771d2a\";\r\n    this.apiurl = \"http://api.openweathermap.org/data/2.5\";\r\n    this.state = {\r\n      activeCity: \"Kuala Lumpur\",\r\n      data: null\r\n    };\r\n    this.APIRequest = this.APIRequest.bind(this);\r\n    this.retrieveData = this.retrieveData.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.APIRequest(this.state.activeCity);\r\n  }\r\n\r\n  async APIRequest(cityName) {\r\n    const forecastUrl = `${this.apiurl}/forecast?q=${cityName}&units=metric&appid=${this.apikey}`;\r\n    await axios\r\n      .get(forecastUrl)\r\n      .then(res => {\r\n        this.retrieveData(res.data.list);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  formatDate(dateTxt) {\r\n    let date = dateTxt.split(\" \")[0].split(\"-\");\r\n    return `${date[2]}/${date[1]}/${date[0]}`;\r\n  }\r\n\r\n  formatTime(dateTxt) {\r\n    return parseInt(dateTxt.split(\" \")[1].split(\":\")[0]);\r\n  }\r\n\r\n  retrieveData(data) {\r\n    let date = new Date();\r\n    let hours = date.getHours();\r\n    let timeslot = \"\";\r\n    if (hours >= 0 && hours < 3) {\r\n      timeslot = \"00:00:00\";\r\n    } else if (hours >= 3 && hours < 6) {\r\n      timeslot = \"03:00:00\";\r\n    } else if (hours >= 6 && hours < 9) {\r\n      timeslot = \"06:00:00\";\r\n    } else if (hours >= 9 && hours < 12) {\r\n      timeslot = \"09:00:00\";\r\n    } else if (hours >= 12 && hours < 15) {\r\n      timeslot = \"12:00:00\";\r\n    } else if (hours >= 15 && hours < 18) {\r\n      timeslot = \"15:00:00\";\r\n    } else if (hours >= 18 && hours < 21) {\r\n      timeslot = \"18:00:00\";\r\n    } else if (hours >= 21) {\r\n      timeslot = \"21:00:00\";\r\n    }\r\n    let json = data.filter(c => {\r\n      let time = c.dt_txt.split(\" \")[1];\r\n      if (time === timeslot) {\r\n        return c;\r\n      }\r\n    });\r\n    this.setState({\r\n      data: json\r\n    });\r\n  }\r\n\r\n  getWeatherIcon(description, time) {\r\n    let icon = \"\";\r\n    if (description.includes(\"clear sky\") && time >= 6 && time <= 18) {\r\n      icon = \"day\";\r\n    } else if (description.includes(\"clouds\") && time >= 6 && time <= 18) {\r\n      icon = \"cloudyday\";\r\n    } else if (\r\n      description.includes(\"clear sky\") &&\r\n      ((time >= 0 && time <= 6) || time >= 21)\r\n    ) {\r\n      icon = \"moon\";\r\n    } else if (\r\n      description.includes(\"clouds\") &&\r\n      ((time = 0 && time <= 6) || time >= 21)\r\n    ) {\r\n      icon = \"cloudymoon\";\r\n    } else if (description.includes(\"rain\")) {\r\n      icon = \"rain\";\r\n    }\r\n    return icon;\r\n  }\r\n\r\n  render() {\r\n    let cards = \"\";\r\n    let id = 1;\r\n    if (this.state.data) {\r\n      cards = this.state.data.map(c => {\r\n        return (\r\n          <WeatherInfo\r\n            key={id++}\r\n            time={this.formatTime(c.dt_txt)}\r\n            date={this.formatDate(c.dt_txt)}\r\n            maxTemp={c.main.temp_max}\r\n            minTemp={c.main.temp_min}\r\n            humidity={c.main.humidity}\r\n            description={c.weather[0].description}\r\n          />\r\n        );\r\n      });\r\n    }\r\n    return (\r\n      <div>\r\n        <Head>\r\n          <title>Weather Application</title>\r\n        </Head>\r\n        <h2 className=\"has-text-centered is-size-2 has-text-black\">\r\n          Weather Forecast\r\n        </h2>\r\n        <hr />\r\n        <h3 className=\"has-text-centered is-size-3 has-text-black\">\r\n          {this.state.activeCity}\r\n        </h3>\r\n        <br />\r\n        <br />\r\n        <Container>\r\n          <Row>\r\n            <Col lg={12}>\r\n              <Row>{cards}</Row>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}